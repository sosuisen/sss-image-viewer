<?xml version="1.0" encoding="UTF-8"?>
<svg width="1400" height="1000" viewBox="0 0 1400 1000" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" 
     refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="2" flood-color="#00000050"/>
    </filter>
  </defs>
  
  <!-- Background -->
  <rect width="1400" height="1000" fill="#f8f9fa"/>
  
  <!-- Title -->
  <text x="700" y="30" text-anchor="middle" font-family="Arial" font-size="20" font-weight="bold" fill="#333">
    Observables Dependencies - SSS Image Viewer
  </text>
  
  <!-- Legend -->
  <g transform="translate(20, 60)">
    <rect x="0" y="0" width="220" height="140" fill="#fff" stroke="#ddd" rx="5" filter="url(#shadow)"/>
    <text x="10" y="20" font-family="Arial" font-size="14" font-weight="bold" fill="#333">Legend</text>
    <circle cx="20" cy="40" r="6" fill="#4CAF50"/>
    <text x="35" y="45" font-family="Arial" font-size="12" fill="#333">DoubleProperty</text>
    <circle cx="20" cy="60" r="6" fill="#2196F3"/>
    <text x="35" y="65" font-family="Arial" font-size="12" fill="#333">BooleanProperty</text>
    <circle cx="20" cy="80" r="6" fill="#FF9800"/>
    <text x="35" y="85" font-family="Arial" font-size="12" fill="#333">UI Component</text>
    <circle cx="20" cy="100" r="6" fill="#9C27B0"/>
    <text x="35" y="105" font-family="Arial" font-size="12" fill="#333">ObservableList/Service</text>
    <line x1="20" y1="120" x2="40" y2="120" stroke="#333" marker-end="url(#arrowhead)"/>
    <text x="45" y="125" font-family="Arial" font-size="12" fill="#333">Binding/Listener</text>
  </g>
  
  <!-- Source Properties (Left side) -->
  
  <!-- currentScale - positioned to connect easily to multiple targets -->
  <g id="currentScale-node">
    <text x="150" y="285" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="#333">currentScale</text>
    <circle cx="150" cy="300" r="12" fill="#4CAF50" filter="url(#shadow)"/>
  </g>
  
  <!-- currentFullScreenScale -->
  <g id="currentFullScreenScale-node">
    <text x="150" y="435" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="#333">currentFullScreenScale</text>
    <circle cx="150" cy="450" r="12" fill="#4CAF50" filter="url(#shadow)"/>
  </g>
  
  <!-- scene dimensions - positioned near UI components -->
  <g id="scene-width-node">
    <text x="500" y="135" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="#333">scene.width</text>
    <circle cx="500" cy="150" r="12" fill="#607D8B" filter="url(#shadow)"/>
  </g>
  
  <g id="scene-height-node">
    <text x="700" y="135" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="#333">scene.height</text>
    <circle cx="700" cy="150" r="12" fill="#607D8B" filter="url(#shadow)"/>
  </g>
  
  <!-- Translation properties - positioned near their targets -->
  <g id="imageTranslateX-node">
    <text x="300" y="635" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="#333">imageTranslateX</text>
    <circle cx="300" cy="650" r="12" fill="#4CAF50" filter="url(#shadow)"/>
  </g>
  
  <g id="imageTranslateY-node">
    <text x="300" y="735" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="#333">imageTranslateY</text>
    <circle cx="300" cy="750" r="12" fill="#4CAF50" filter="url(#shadow)"/>
  </g>
  
  <!-- imageRotation - positioned to the left of orgImage dimensions -->
  <g id="imageRotation-node">
    <text x="650" y="485" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="#333">imageRotation</text>
    <circle cx="650" cy="500" r="12" fill="#4CAF50" filter="url(#shadow)"/>
  </g>
  
  <!-- Dimension properties for statusLabel binding -->
  <g id="orgImageWidth-node">
    <text x="800" y="435" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="#333">orgImageWidth</text>
    <circle cx="800" cy="450" r="12" fill="#4CAF50" filter="url(#shadow)"/>
  </g>
  
  <g id="orgImageHeight-node">
    <text x="800" y="485" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="#333">orgImageHeight</text>
    <circle cx="800" cy="500" r="12" fill="#4CAF50" filter="url(#shadow)"/>
  </g>
  
  <!-- Boolean properties -->
  <g id="mousePressed-node">
    <text x="900" y="335" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="#333">mousePressed</text>
    <circle cx="900" cy="350" r="12" fill="#2196F3" filter="url(#shadow)"/>
  </g>
  
  <g id="isFullScreen-node">
    <text x="150" y="535" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="#333">isFullScreen</text>
    <circle cx="150" cy="550" r="12" fill="#2196F3" filter="url(#shadow)"/>
  </g>
  
  <!-- ImageNavigator properties -->
  <g id="slideshowMode-node">
    <text x="1160" y="335" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="#333">slideshowMode</text>
    <circle cx="1160" cy="350" r="12" fill="#2196F3" filter="url(#shadow)"/>
  </g>
  
  <g id="markedImages-node">
    <text x="1000" y="485" text-anchor="middle" font-family="Arial" font-size="12" font-weight="bold" fill="#333">markedImages</text>
    <circle cx="1000" cy="500" r="12" fill="#9C27B0" filter="url(#shadow)"/>
  </g>
  
  <!-- Target UI Components (Right side) -->
  
  <!-- ImageView components -->
  <g id="imageView-fitWidth-node">
    <text x="650" y="240" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">imageView.fitWidth</text>
    <circle cx="650" cy="250" r="10" fill="#FF9800" filter="url(#shadow)"/>
  </g>
  
  <g id="imageView-fitHeight-node">
    <text x="850" y="240" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">imageView.fitHeight</text>
    <circle cx="850" cy="250" r="10" fill="#FF9800" filter="url(#shadow)"/>
  </g>
  
  <g id="imageView2-fitWidth-node">
    <text x="650" y="270" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">imageView2.fitWidth</text>
    <circle cx="650" cy="280" r="10" fill="#FF9800" filter="url(#shadow)"/>
  </g>
  
  <g id="imageView2-fitHeight-node">
    <text x="850" y="270" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">imageView2.fitHeight</text>
    <circle cx="850" cy="280" r="10" fill="#FF9800" filter="url(#shadow)"/>
  </g>
  
  <!-- Transform properties -->
  <g id="imageView-translateX-node">
    <text x="500" y="640" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">imageView.translateX</text>
    <circle cx="500" cy="650" r="10" fill="#FF9800" filter="url(#shadow)"/>
  </g>
  
  <g id="imageView2-translateX-node">
    <text x="500" y="670" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">imageView2.translateX</text>
    <circle cx="500" cy="680" r="10" fill="#FF9800" filter="url(#shadow)"/>
  </g>
  
  <g id="imageView-translateY-node">
    <text x="500" y="740" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">imageView.translateY</text>
    <circle cx="500" cy="750" r="10" fill="#FF9800" filter="url(#shadow)"/>
  </g>
  
  <g id="imageView2-translateY-node">
    <text x="500" y="770" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">imageView2.translateY</text>
    <circle cx="500" cy="780" r="10" fill="#FF9800" filter="url(#shadow)"/>
  </g>
  
  <!-- Function/method nodes -->
  <g id="setWindowSize-node">
    <rect x="350" y="280" width="140" height="60" fill="#795548" stroke="#333" rx="5" filter="url(#shadow)"/>
    <text x="420" y="300" text-anchor="middle" font-family="Arial" font-size="11" fill="#fff" font-weight="bold">setWindowSizeFromScale</text>
    <text x="420" y="315" text-anchor="middle" font-family="Arial" font-size="10" fill="#fff">stage.width</text>
    <text x="420" y="330" text-anchor="middle" font-family="Arial" font-size="10" fill="#fff">stage.height</text>
  </g>
  
  <g id="setImageScale-node">
    <rect x="350" y="430" width="140" height="80" fill="#795548" stroke="#333" rx="5" filter="url(#shadow)"/>
    <text x="420" y="450" text-anchor="middle" font-family="Arial" font-size="11" fill="#fff" font-weight="bold">setImageScaleInFullScreen</text>
    <text x="420" y="465" text-anchor="middle" font-family="Arial" font-size="10" fill="#fff">imageView.scaleX</text>
    <text x="420" y="480" text-anchor="middle" font-family="Arial" font-size="10" fill="#fff">imageView.scaleY</text>
    <text x="420" y="495" text-anchor="middle" font-family="Arial" font-size="10" fill="#fff">imageView2.scaleX</text>
    <text x="420" y="510" text-anchor="middle" font-family="Arial" font-size="10" fill="#fff">imageView2.scaleY</text>
  </g>
  
  <!-- StatusLabel (complex binding target) -->
  <g id="statusLabel-node">
    <rect x="1100" y="400" width="120" height="80" fill="#FF9800" stroke="#333" rx="5" filter="url(#shadow)"/>
    <text x="1160" y="425" text-anchor="middle" font-family="Arial" font-size="11" fill="#fff" font-weight="bold">statusLabel.text</text>
    <text x="1160" y="440" text-anchor="middle" font-family="Arial" font-size="10" fill="#fff">(Complex Binding)</text>
    <text x="1160" y="455" text-anchor="middle" font-family="Arial" font-size="10" fill="#fff">5 dependencies</text>
  </g>
  
  <!-- Stage title -->
  <g id="stage-title-node">
    <text x="1200" y="240" text-anchor="middle" font-family="Arial" font-size="11" fill="#333">stage.title</text>
    <circle cx="1200" cy="250" r="10" fill="#FF9800" filter="url(#shadow)"/>
  </g>
  
  
  <!-- Arrows/Relationships -->
  
  <!-- setWindowSizeFromScale depends on currentScale -->
  <line x1="350" y1="300" x2="162" y2="300" stroke="#4CAF50" stroke-width="3" marker-end="url(#arrowhead)"/>
  
  <!-- setImageScaleInFullScreen depends on currentFullScreenScale -->
  <line x1="350" y1="450" x2="162" y2="450" stroke="#4CAF50" stroke-width="3" marker-end="url(#arrowhead)"/>
  
  <!-- imageView fitWidth properties depend on scene.width -->
  <line x1="640" y1="250" x2="512" y2="150" stroke="#607D8B" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="640" y1="280" x2="512" y2="150" stroke="#607D8B" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- imageView fitHeight properties depend on scene.height -->
  <line x1="840" y1="250" x2="712" y2="150" stroke="#607D8B" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="840" y1="280" x2="712" y2="150" stroke="#607D8B" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- imageTranslateX depends on imageView translateX -->
  <line x1="490" y1="650" x2="312" y2="650" stroke="#4CAF50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="490" y1="680" x2="312" y2="650" stroke="#4CAF50" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- imageTranslateY depends on imageView translateY -->
  <line x1="490" y1="750" x2="312" y2="750" stroke="#4CAF50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="490" y1="780" x2="312" y2="750" stroke="#4CAF50" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- imageRotation depends on orgImageWidth and orgImageHeight -->
  <line x1="788" y1="450" x2="662" y2="500" stroke="#4CAF50" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="788" y1="500" x2="662" y2="500" stroke="#4CAF50" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- statusLabel depends on multiple properties (curved to avoid crossings) -->
  <path d="M 1100 440 Q 950 420 812 450" stroke="#E91E63" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 1100 450 Q 950 480 812 500" stroke="#E91E63" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 1100 420 Q 980 380 912 350" stroke="#E91E63" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 1160 400 Q 1160 375 1160 362" stroke="#E91E63" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <path d="M 1100 450 Q 1050 470 1012 500" stroke="#E91E63" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- stage.title depends on slideshowMode -->
  <line x1="1200" y1="250" x2="1160" y2="350" stroke="#2196F3" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- Property relationship summary -->
  <g transform="translate(50, 920)">
    <rect x="0" y="0" width="1300" height="70" fill="#fff" stroke="#666" rx="5" filter="url(#shadow)"/>
    <text x="650" y="20" text-anchor="middle" font-family="Arial" font-size="14" font-weight="bold" fill="#333">Key Relationships Summary</text>
    
    <text x="20" y="40" font-family="Arial" font-size="11" fill="#333">
      <tspan x="20" dy="0">• Scale properties trigger method calls that update window/image dimensions</tspan>
      <tspan x="520" dy="0">• Scene dimensions are bound directly to ImageView fit properties</tspan>
      <tspan x="20" dy="15">• Translation properties have direct listeners that update ImageView transforms</tspan>
      <tspan x="520" dy="0">• StatusLabel has the most complex binding with 5 observable dependencies</tspan>
    </text>
  </g>
</svg>